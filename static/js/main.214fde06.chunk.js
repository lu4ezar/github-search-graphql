(this["webpackJsonpgithub-search-graphql"]=this["webpackJsonpgithub-search-graphql"]||[]).push([[0],{38:function(e,n,t){e.exports=t(69)},43:function(e,n,t){},69:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(28),o=t.n(i),l=(t(43),t(11)),c=t(16),u=t(14),s=t(5),d=t(6);function m(){var e=Object(s.a)(["\n  grid-area: header;\n  text-transform: uppercase;\n  display: flex;\n  justify-content: center;\n  font-size: 2rem;\n  @media (min-width: 1024px) {\n    justify-content: flex-end;\n  }\n"]);return m=function(){return e},e}var h=d.a.div(m()),f=function(){return a.a.createElement(h,{className:"header"},"GITHUB SEARCH")},p=t(9);function g(){var e=Object(s.a)(["\n  text-decoration: none;\n  color: black;\n  &:visited,\n  :hover,\n  :active {\n    color: black;\n  }\n"]);return g=function(){return e},e}function b(){var e=Object(s.a)(["\n  flex-basis: 50%;\n  display: flex;\n  flex-flow: column wrap;\n  justify-content: center;\n  align-items: center;\n  padding: 0.5em;\n  box-sizing: border-box;\n  overflow: hidden;\n  & .not-allowed {\n    white-space: nowrap;\n    cursor: not-allowed;\n    font-size: 0.95em;\n    display: contents;\n    @media (min-width: 576px) and (max-width: 1024px) {\n      letter-spacing: -0.05em;\n    }\n  }\n"]);return b=function(){return e},e}function v(){var e=Object(s.a)(["\n  display: flex;\n  font-size: 0.5rem;\n  width: 100%;\n  border: 4px double #262323;\n  box-shadow: inset -1px 0px 5px #262323;\n  @media (min-width: 576px) {\n    justify-content: center;\n    box-sizing: border-box;\n    flex-flow: row wrap;\n    font-size: 1vmax;\n    width: 14vmax;\n    min-width: 14vmax;\n    height: 14vmax;\n    min-height: 14vmax;\n  }\n  @media (min-width: 1024px) {\n    font-size: 0.9vmin;\n    width: 14vmin;\n    min-width: 14vmin;\n    height: 14vmin;\n    min-height: 14vmin;\n  }\n"]);return v=function(){return e},e}function x(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: center;\n  word-break: break-word;\n"]);return x=function(){return e},e}function w(){var e=Object(s.a)(["\n  box-shadow: inset 0px 0px 5px #262323;\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0.5em;\n  margin-bottom: 1em;\n  border-radius: 4px;\n  @media (min-width: 576px) {\n    flex-wrap: nowrap;\n    align-items: center;\n  }\n"]);return w=function(){return e},e}var E=d.a.div(w()),y=d.a.div(x()),j=d.a.div(v()),O=d.a.div(b()),z=d.a.a(g());function k(){var e=Object(s.a)(["\n  flex: 1 0 auto;\n  display: none;\n  @media (min-width: 576px) {\n    display: flex;\n  }\n"]);return k=function(){return e},e}function S(){var e=Object(s.a)(["\n  grid-area: footer;\n  text-transform: uppercase;\n  font-weight: bold;\n  user-select: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.5vmax;\n"]);return S=function(){return e},e}var H=d.a.div(S()),C=d.a.div(k()),_=function(){return a.a.createElement(H,null,a.a.createElement(C,null,"https://github.com/lu4ezar/github-search-graphql"),a.a.createElement(z,{href:"https://github.com/lu4ezar/github-search-graphql",title:"view src on Github"},a.a.createElement(p.h,{icon:p.f,verticalAlign:"middle",size:"large"})))};function q(){var e=Object(s.a)(["\n  width: 0;\n  position: relative;\n  right: 1em;\n  cursor: pointer;\n  color: #262323;\n  visibility: hidden;\n  font-size: 1.5rem;\n  font-weight: bold;\n  &.show {\n    visibility: visible;\n  }\n"]);return q=function(){return e},e}function I(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  grid-area: aside_input;\n  & label {\n    max-width: 90%;\n  }\n  & input {\n    background: transparent;\n    border: 0;\n    outline: 0;\n    border-bottom: 2px solid black;\n    text-align: center;\n    font-weight: bold;\n    font-size: 1.5rem;\n    width: 100%;\n    &::placeholder {\n      font-weight: normal;\n      font-style: italic;\n    }\n  }\n"]);return I=function(){return e},e}var A=d.a.div(I()),N=d.a.span(q()),R=function(e){var n=e.searchString,t=e.handleInput,r=e.clearInput,i=n?"show":"";return a.a.createElement(A,{className:"input"},a.a.createElement("label",{htmlFor:"search"},a.a.createElement("input",{id:"search",type:"search",onChange:t,placeholder:"github-search-graphql",value:n})),a.a.createElement(N,{className:i,onClick:r},"\xd7"))};function T(){var e=Object(s.a)(["\n  text-transform: lowercase;\n  font-style: italic;\n  cursor: pointer;\n  margin: 1rem;\n  font-weight: normal;\n  transition: background 0.4s;\n  border-radius: 2px;\n  padding: 0.2rem;\n  text-align: center;\n  &:hover {\n    background: #e6e6e6;\n  }\n"]);return T=function(){return e},e}function F(){var e=Object(s.a)(["\n  overflow: hidden;\n  max-height: 100%;\n  transition: max-height 0.2s;\n  &.collapsed {\n    max-height: 0px;\n    transition: max-height 0.2s;\n    @media (min-width: 1024px) {\n      max-height: 100%;\n    }\n  }\n"]);return F=function(){return e},e}function G(){var e=Object(s.a)(["\n  background-color: transparent;\n  color: #262323;\n  cursor: pointer;\n  border: none;\n  outline: none;\n  position: absolute;\n  right: 2em;\n  @media (min-width: 1024px) {\n    display: none;\n  }\n"]);return G=function(){return e},e}function $(){var e=Object(s.a)(["\n  text-align: center;\n  width: 100%;\n"]);return $=function(){return e},e}function M(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n"]);return M=function(){return e},e}function U(){var e=Object(s.a)(["\n  grid-area: aside_recent;\n  text-transform: uppercase;\n  font-weight: bold;\n  display: flex;\n  flex-direction: column;\n  padding: 0 1em;\n"]);return U=function(){return e},e}var B=d.a.div(U()),J=d.a.div(M()),P=d.a.div($()),V=d.a.button(G()),D=d.a.div(F()),K=d.a.div(T()),L=function(e){var n=e.searchHistory,t=e.getValueFromHistory,r=a.a.useState(!0),i=Object(u.a)(r,2),o=i[0],l=i[1],c=n.length?n.map((function(e,n){return a.a.createElement(K,{title:'search for "'.concat(e,'" again'),key:e,onClick:function(){return t(e)},onKeyDown:function(){return t(e)},role:"button",tabIndex:n},e)})):null,s=o?p.a:p.b,d=o?"collapsed":"";return a.a.createElement(B,null,a.a.createElement(J,null,a.a.createElement(P,null,"Search History"),!!n.length&&a.a.createElement(V,{type:"button",onClick:function(){return l(!o)}},a.a.createElement(p.h,{icon:s,size:"medium"}))),a.a.createElement(D,{className:d},c))},Q=t(25),Y=t(20),W=t(24);function X(){var e=Object(s.a)(["\n  query GetRepos($searchString: String!, $after: String) {\n    search(type: REPOSITORY, after: $after, first: 30, query: $searchString) {\n      edges {\n        node {\n          ... on Repository {\n            homepageUrl\n            name\n            description\n            descriptionHTML\n            url\n            stargazers {\n              totalCount\n            }\n            watchers {\n              totalCount\n            }\n          }\n        }\n        cursor\n      }\n    }\n  }\n"]);return X=function(){return e},e}var Z=Object(W.b)(X()),ee=new W.a({uri:"https://github-search-graphql.herokuapp.com/"}),ne=function(e){var n=e.homepageUrl,t=e.name,r=e.description,i=e.url,o=e.stargazers,l=e.watchers;return a.a.createElement(E,null,a.a.createElement(y,null,a.a.createElement("h3",null,a.a.createElement(z,{href:n||i,title:"open homepage in new tab",target:"_blank",rel:"noopener noreferrer"},t)),a.a.createElement("p",null,r||"")),a.a.createElement(j,null,a.a.createElement(O,null,n?a.a.createElement(a.a.Fragment,null,a.a.createElement(z,{title:"homepage",href:n,target:"_blank",rel:"noopener noreferrer"},a.a.createElement(p.h,{icon:p.e,size:"medium",verticalAlign:"middle"})),a.a.createElement("div",null,"Homepage")):a.a.createElement("div",{className:"not-allowed",title:"no homepage"},a.a.createElement(p.h,{icon:p.c,size:"medium",verticalAlign:"middle"}),a.a.createElement("div",null,"No Homepage"))),a.a.createElement(O,null,a.a.createElement(z,{title:"github page",href:i,target:"_blank",rel:"noopener noreferrer"},a.a.createElement(p.h,{icon:p.f,size:"medium",verticalAlign:"middle"})),a.a.createElement("div",null,"Github")),a.a.createElement(O,{title:"stargazers"},a.a.createElement(p.h,{icon:p.g,size:"medium",verticalAlign:"middle"}),a.a.createElement("div",null,o.totalCount)),a.a.createElement(O,{title:"watchers"},a.a.createElement(p.h,{icon:p.d,size:"medium",verticalAlign:"middle"}),a.a.createElement("div",null,l.totalCount))))},te=t(35),re=t.n(te);function ae(){var e=Object(s.a)(["\n  margin: auto;\n"]);return ae=function(){return e},e}function ie(){var e=Object(s.a)(["\n  grid-area: list;\n  overflow: auto;\n  display: flex;\n  flex-direction: column;\n  padding: 1em;\n  &.filled {\n    box-shadow: inset 0px 0px 31px #262323;\n    border-radius: 12px;\n  }\n"]);return ie=function(){return e},e}var oe=d.a.div(ie()),le=Object(d.a)(re.a)(ae()),ce=function(e){var n=e.searchString,t=e.updateHistory,r=Object(Y.a)(Z,{onCompleted:function(){h||m.search.edges.length&&t(n)},variables:{searchString:n,first:30},errorPolicy:"all"}),i=Object(u.a)(r,2),o=i[0],l=i[1],s=l.called,d=l.loading,m=l.data,h=l.error,f=l.fetchMore;a.a.useEffect((function(){!n||n.length<4||s||o(n)}),[n,s,o]);return a.a.createElement(oe,{className:m&&"filled",onScroll:function(e){var n=e.currentTarget;if(n.scrollHeight-n.scrollTop===n.clientHeight){var t=m.search.edges,r=t[t.length-1].cursor;return f({variables:{after:r},updateQuery:function(e,n){var t=n.fetchMoreResult;return t?Object(Q.a)({},t,{search:Object(Q.a)({},t.search,{edges:[].concat(Object(c.a)(e.search.edges),Object(c.a)(t.search.edges))})}):e}})}}},function(){var e,n;switch(!0){case!!h:return a.a.createElement("p",null,"Error! Sorry there was an error!");case s&&d:return a.a.createElement(le,{type:"Oval",color:"gray",height:100,width:100});case!!(null===m||void 0===m?void 0:null===(e=m.search)||void 0===e?void 0:null===(n=e.edges)||void 0===n?void 0:n.length):return m.search.edges.map((function(e){var n=e.node,t=e.cursor;return a.a.createElement(ne,Object.assign({key:t},n))}));default:return null}}())};function ue(){var e=Object(s.a)(['\n  height: 100%;\n  box-sizing: border-box;\n  display: grid;\n  grid-gap: 1rem;\n  grid-template-rows: auto auto 1fr auto auto;\n  grid-template-areas:\n    "header"\n    "aside_input"\n    "list"\n    "aside_recent"\n    "footer";\n  @media (min-width: 1024px) {\n    font-size: 1.5rem;\n    grid-template-areas:\n      "header header"\n      "aside_input list"\n      "aside_recent list"\n      "aside_recent footer";\n    padding: 2rem 5rem 2rem 5rem;\n    grid-template-columns: 2fr 4fr;\n    grid-template-rows: auto 1fr 7fr auto;\n  }\n  @media (min-width: 1280px) {\n    padding: 2rem 10rem 2rem 10rem;\n  }\n  & > div {\n    border-radius: 4px;\n    box-shadow: 2px 5px 10px #262323;\n    background: ghostwhite;\n    padding: 1em;\n  }\n']);return ue=function(){return e},e}var se=d.a.div(ue()),de=function(){var e=a.a.useState(""),n=Object(u.a)(e,2),t=n[0],r=n[1],i=a.a.useState([]),o=Object(u.a)(i,2),l=o[0],s=o[1];return a.a.createElement(se,null,a.a.createElement(f,null),a.a.createElement(R,{searchString:t,handleInput:function(e){r(e.currentTarget.value)},clearInput:function(){r("")}}),a.a.createElement(L,{searchHistory:l,getValueFromHistory:function(e){r(e)}}),a.a.createElement(ce,{searchString:t,updateHistory:function(e){l.includes(e)||(l.unshift(e)>10&&l.pop(),s(Object(c.a)(l)))}}),a.a.createElement(_,null))};o.a.render(a.a.createElement(l.a,{client:ee},a.a.createElement(de,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.214fde06.chunk.js.map