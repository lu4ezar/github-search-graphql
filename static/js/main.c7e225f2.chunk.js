(this["webpackJsonpgithub-search-graphql"]=this["webpackJsonpgithub-search-graphql"]||[]).push([[0],{38:function(e,n,t){e.exports=t(69)},43:function(e,n,t){},69:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(28),o=t.n(i),l=(t(43),t(11)),c=t(16),u=t(14),d=t(5),s=t(6);function m(){var e=Object(d.a)(["\n  grid-area: header;\n  text-transform: uppercase;\n  display: flex;\n  justify-content: center;\n  font-size: 2rem;\n  @media (min-width: 1024px) {\n    justify-content: flex-end;\n  }\n"]);return m=function(){return e},e}var h=s.a.div(m()),f=function(){return a.a.createElement(h,null,"GITHUB SEARCH")},p=t(9);function g(){var e=Object(d.a)(["\n  text-decoration: none;\n  color: black;\n  &:visited,\n  :hover,\n  :active {\n    color: black;\n  }\n"]);return g=function(){return e},e}function b(){var e=Object(d.a)(["\n  flex-basis: 50%;\n  display: flex;\n  flex-flow: column wrap;\n  justify-content: center;\n  align-items: center;\n  padding: 0.5em;\n  box-sizing: border-box;\n  overflow: hidden;\n  & .not-allowed {\n    white-space: nowrap;\n    cursor: not-allowed;\n    font-size: 0.95em;\n    display: contents;\n    @media (min-width: 576px) and (max-width: 1024px) {\n      letter-spacing: -0.05em;\n    }\n  }\n"]);return b=function(){return e},e}function v(){var e=Object(d.a)(["\n  display: flex;\n  font-size: 0.5rem;\n  width: 100%;\n  border: 4px double #262323;\n  box-shadow: inset -1px 0px 5px #262323;\n  @media (min-width: 576px) {\n    justify-content: center;\n    box-sizing: border-box;\n    flex-flow: row wrap;\n    font-size: 1vmax;\n    width: 14vmax;\n    min-width: 14vmax;\n    height: 14vmax;\n    min-height: 14vmax;\n  }\n  @media (min-width: 1024px) {\n    font-size: 0.9vmin;\n    width: 14vmin;\n    min-width: 14vmin;\n    height: 14vmin;\n    min-height: 14vmin;\n  }\n"]);return v=function(){return e},e}function x(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: center;\n  word-break: break-word;\n"]);return x=function(){return e},e}function w(){var e=Object(d.a)(["\n  box-shadow: inset 0px 0px 5px #262323;\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0.5em;\n  margin-bottom: 1em;\n  border-radius: 4px;\n  @media (min-width: 576px) {\n    flex-wrap: nowrap;\n    align-items: center;\n  }\n"]);return w=function(){return e},e}var E=s.a.div(w()),y=s.a.div(x()),j=s.a.div(v()),O=s.a.div(b()),z=s.a.a(g());function k(){var e=Object(d.a)(["\n  flex: 1 0 auto;\n  display: none;\n  @media (min-width: 576px) {\n    display: flex;\n  }\n"]);return k=function(){return e},e}function S(){var e=Object(d.a)(["\n  grid-area: footer;\n  text-transform: uppercase;\n  font-weight: bold;\n  user-select: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.5vmax;\n"]);return S=function(){return e},e}var H=s.a.div(S()),C=s.a.div(k()),_=function(){return a.a.createElement(H,null,a.a.createElement(C,null,"https://github.com/lu4ezar/github-search-graphql"),a.a.createElement(z,{href:"https://github.com/lu4ezar/github-search-graphql",title:"view src on Github"},a.a.createElement(p.h,{icon:p.f,verticalAlign:"middle",size:"medium"})))};function I(){var e=Object(d.a)(["\n  width: 0;\n  position: relative;\n  right: 1em;\n  cursor: pointer;\n  color: #262323;\n  visibility: hidden;\n  font-weight: bold;\n  &.show {\n    visibility: visible;\n  }\n"]);return I=function(){return e},e}function q(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  grid-area: aside_input;\n  & label {\n    max-width: 90%;\n    padding: 0.5rem 0;\n  }\n  & input {\n    background: transparent;\n    border: 0;\n    outline: 0;\n    border-bottom: 2px solid black;\n    margin-bottom: 0.1rem;\n    text-align: center;\n    font-weight: bold;\n    font-size: 1rem;\n    width: 100%;\n    @media (min-width: 1024px) {\n      font-size: 1.5rem;\n    }\n    &::placeholder {\n      font-weight: normal;\n      font-style: italic;\n    }\n  }\n"]);return q=function(){return e},e}var A=s.a.div(q()),N=s.a.span(I()),R=function(e){var n=e.searchString,t=e.handleInput,r=e.clearInput;return a.a.createElement(A,null,a.a.createElement("label",{htmlFor:"search"},a.a.createElement("input",{id:"search",type:"search",onChange:t,placeholder:"github-search-graphql",value:n})),a.a.createElement(N,{className:n&&"show",onClick:r},"\xd7"))};function T(){var e=Object(d.a)(["\n  text-transform: lowercase;\n  font-style: italic;\n  cursor: pointer;\n  margin: 1rem;\n  font-weight: normal;\n  transition: background 0.4s;\n  border-radius: 2px;\n  padding: 0.2rem;\n  text-align: center;\n  &:hover {\n    background: #e6e6e6;\n  }\n"]);return T=function(){return e},e}function F(){var e=Object(d.a)(["\n  overflow: hidden;\n  max-height: 100%;\n  transition: max-height 0.2s;\n  &.collapsed {\n    max-height: 0px;\n    transition: max-height 0.2s;\n    @media (min-width: 1024px) {\n      max-height: 100%;\n    }\n  }\n"]);return F=function(){return e},e}function G(){var e=Object(d.a)(["\n  position: relative;\n  right: -2rem;\n  &.invisible {\n    visibility: collapse;\n  }\n  @media (min-width: 1024px) {\n    display: none;\n  }\n"]);return G=function(){return e},e}function $(){var e=Object(d.a)(["\n  background-color: transparent;\n  color: #262323;\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 1rem;\n  cursor: pointer;\n  border: none;\n  outline: none;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  @media (min-width: 1024px) {\n    cursor: auto;\n  }\n"]);return $=function(){return e},e}function M(){var e=Object(d.a)(["\n  display: flex;\n"]);return M=function(){return e},e}function U(){var e=Object(d.a)(["\n  grid-area: aside_recent;\n  display: flex;\n  flex-direction: column;\n"]);return U=function(){return e},e}var B=s.a.div(U()),D=s.a.div(M()),J=s.a.button($()),K=s.a.span(G()),P=s.a.div(F()),V=s.a.div(T()),L=["dope","dota","styled","javascript"],Q=function(e){var n=e.searchHistory,t=e.getValueFromHistory,r=a.a.useState(!0),i=Object(u.a)(r,2),o=i[0],l=i[1],c=n.length?n.map((function(e,n){return a.a.createElement(V,{title:'search for "'.concat(e,'" again'),key:e,onClick:function(){return t(e)},onKeyDown:function(){return t(e)},role:"button",tabIndex:n},e)})):L.map((function(e,n){return a.a.createElement(V,{title:'search for "'.concat(e,'" again'),key:e,onClick:function(){return t(e)},onKeyDown:function(){return t(e)},role:"button",tabIndex:n},e)})),d=o?p.a:p.b;return a.a.createElement(B,null,a.a.createElement(D,null,a.a.createElement(J,{type:"button",onClick:function(){return l(!o)}},"Search History",a.a.createElement(K,{className:n.length?"":"invisible"},a.a.createElement(p.h,{icon:d,size:"medium"})))),a.a.createElement(P,{className:o?"collapsed":""},c))},Y=t(25),W=t(20),X=t(24);function Z(){var e=Object(d.a)(["\n  query GetRepos($searchString: String!, $after: String) {\n    search(type: REPOSITORY, after: $after, first: 30, query: $searchString) {\n      edges {\n        node {\n          ... on Repository {\n            homepageUrl\n            name\n            description\n            descriptionHTML\n            url\n            stargazers {\n              totalCount\n            }\n            watchers {\n              totalCount\n            }\n          }\n        }\n        cursor\n      }\n    }\n  }\n"]);return Z=function(){return e},e}var ee=Object(X.b)(Z()),ne=new X.a({uri:"https://github-search-graphql.herokuapp.com/"}),te=function(e){var n=e.homepageUrl,t=e.name,r=e.description,i=e.url,o=e.stargazers,l=e.watchers;return a.a.createElement(E,null,a.a.createElement(y,null,a.a.createElement("h3",null,a.a.createElement(z,{href:n||i,title:"open homepage in new tab",target:"_blank",rel:"noopener noreferrer"},t)),a.a.createElement("p",null,r||"")),a.a.createElement(j,null,a.a.createElement(O,null,n?a.a.createElement(a.a.Fragment,null,a.a.createElement(z,{title:"homepage",href:n,target:"_blank",rel:"noopener noreferrer"},a.a.createElement(p.h,{icon:p.e,size:"medium",verticalAlign:"middle"})),a.a.createElement("div",null,"Homepage")):a.a.createElement("div",{className:"not-allowed",title:"no homepage"},a.a.createElement(p.h,{icon:p.c,size:"medium",verticalAlign:"middle"}),a.a.createElement("div",null,"No Homepage"))),a.a.createElement(O,null,a.a.createElement(z,{title:"github page",href:i,target:"_blank",rel:"noopener noreferrer"},a.a.createElement(p.h,{icon:p.f,size:"medium",verticalAlign:"middle"})),a.a.createElement("div",null,"Github")),a.a.createElement(O,{title:"stargazers"},a.a.createElement(p.h,{icon:p.g,size:"medium",verticalAlign:"middle"}),a.a.createElement("div",null,o.totalCount)),a.a.createElement(O,{title:"watchers"},a.a.createElement(p.h,{icon:p.d,size:"medium",verticalAlign:"middle"}),a.a.createElement("div",null,l.totalCount))))},re=t(35),ae=t.n(re);function ie(){var e=Object(d.a)(["\n  margin: auto;\n"]);return ie=function(){return e},e}function oe(){var e=Object(d.a)(["\n  grid-area: list;\n  overflow: auto;\n  display: flex;\n  flex-direction: column;\n  padding: 1em;\n  &.filled {\n    box-shadow: inset 0px 0px 31px #262323;\n    border-radius: 12px;\n  }\n"]);return oe=function(){return e},e}var le=s.a.div(oe()),ce=Object(s.a)(ae.a)(ie()),ue=function(e){var n,t,r=e.searchString,i=e.updateHistory,o=Object(W.a)(ee,{onCompleted:function(){p||f.search.edges.length&&i(r)},variables:{searchString:r,first:30},errorPolicy:"all"}),l=Object(u.a)(o,2),d=l[0],s=l[1],m=s.called,h=s.loading,f=s.data,p=s.error,g=s.fetchMore;a.a.useEffect((function(){!r||r.length<4||m||d(r)}),[r,m,d]);var b=null===f||void 0===f?void 0:null===(n=f.search)||void 0===n?void 0:null===(t=n.edges)||void 0===t?void 0:t.length;return a.a.createElement(le,{className:b&&"filled",onScroll:function(e){var n=e.currentTarget;if(n.scrollHeight-n.scrollTop===n.clientHeight){var t=f.search.edges,r=t[t.length-1].cursor;return g({variables:{after:r},updateQuery:function(e,n){var t=n.fetchMoreResult;return t?Object(Y.a)({},t,{search:Object(Y.a)({},t.search,{edges:[].concat(Object(c.a)(e.search.edges),Object(c.a)(t.search.edges))})}):e}})}}},function(){switch(!0){case!!p:return a.a.createElement("p",null,"Error! Sorry there was an error!");case m&&h:return a.a.createElement(ce,{type:"Oval",color:"gray",height:100,width:100});case!!b:return f.search.edges.map((function(e){var n=e.node,t=e.cursor;return a.a.createElement(te,Object.assign({key:t},n))}));default:return null}}())};function de(){var e=Object(d.a)(['\n  height: 100%;\n  box-sizing: border-box;\n  display: grid;\n  grid-gap: 1rem;\n  padding: 1rem;\n  grid-template-rows: auto auto 1fr auto auto;\n  grid-template-areas:\n    "header"\n    "aside_input"\n    "list"\n    "aside_recent"\n    "footer";\n  @media (min-width: 1024px) {\n    font-size: 1.5rem;\n    grid-template-areas:\n      "header header"\n      "aside_input list"\n      "aside_recent list"\n      "aside_recent footer";\n    padding: 2rem 5rem 2rem 5rem;\n    grid-template-columns: 2fr 4fr;\n    grid-template-rows: auto 1fr 7fr auto;\n  }\n  @media (min-width: 1280px) {\n    padding: 2rem 10rem 2rem 10rem;\n  }\n  & > div {\n    border-radius: 4px;\n    box-shadow: 2px 5px 10px #262323;\n    background: ghostwhite;\n    padding: 0 1rem;\n    @media (min-width: 1024px) {\n      padding: 1rem;\n    }\n  }\n']);return de=function(){return e},e}var se=s.a.div(de()),me=function(){var e=a.a.useState(""),n=Object(u.a)(e,2),t=n[0],r=n[1],i=a.a.useState([]),o=Object(u.a)(i,2),l=o[0],d=o[1];return a.a.createElement(se,null,a.a.createElement(f,null),a.a.createElement(R,{searchString:t,handleInput:function(e){r(e.currentTarget.value)},clearInput:function(){r("")}}),a.a.createElement(Q,{searchHistory:l,getValueFromHistory:function(e){r(e)}}),a.a.createElement(ue,{searchString:t,updateHistory:function(e){l.includes(e)||(l.unshift(e)>10&&l.pop(),d(Object(c.a)(l)))}}),a.a.createElement(_,null))};o.a.render(a.a.createElement(l.a,{client:ne},a.a.createElement(me,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.c7e225f2.chunk.js.map