(this["webpackJsonpgithub-search-graphql"]=this["webpackJsonpgithub-search-graphql"]||[]).push([[0],{38:function(n,e,t){n.exports=t(69)},43:function(n,e,t){},69:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(17),o=t.n(i),l=(t(43),t(11)),c=t(15),u=t(16),d=t(4),s=t(6);function m(){var n=Object(d.a)(["\n  grid-area: header;\n  text-transform: uppercase;\n  display: flex;\n  justify-content: center;\n  font-size: 2rem;\n  @media (min-width: 1024px) {\n    justify-content: flex-end;\n  }\n"]);return m=function(){return n},n}var p=s.a.div(m()),h=function(){return a.a.createElement(p,null,"GITHUB SEARCH")},f=t(9);function g(){var n=Object(d.a)(["\n  text-decoration: none;\n  color: black;\n  &:visited,\n  :hover,\n  :active {\n    color: black;\n  }\n"]);return g=function(){return n},n}function v(){var n=Object(d.a)(["\n  flex-basis: 50%;\n  display: flex;\n  flex-flow: column wrap;\n  justify-content: center;\n  align-items: center;\n  padding: 0.5em;\n  box-sizing: border-box;\n  overflow: hidden;\n  & .not-allowed {\n    white-space: nowrap;\n    cursor: not-allowed;\n    font-size: 0.95em;\n    display: contents;\n    @media (min-width: 576px) and (max-width: 1024px) {\n      letter-spacing: -0.05em;\n    }\n  }\n"]);return v=function(){return n},n}function b(){var n=Object(d.a)(["\n  display: flex;\n  font-size: 0.5rem;\n  width: 100%;\n  border: 4px double #262323;\n  box-shadow: inset -1px 0px 5px #262323;\n  @media (min-width: 576px) {\n    justify-content: center;\n    box-sizing: border-box;\n    flex-flow: row wrap;\n    font-size: 1vmax;\n    width: 14vmax;\n    min-width: 14vmax;\n    height: 14vmax;\n    min-height: 14vmax;\n  }\n  @media (min-width: 1024px) {\n    font-size: 0.9vmin;\n    width: 14vmin;\n    min-width: 14vmin;\n    height: 14vmin;\n    min-height: 14vmin;\n  }\n"]);return b=function(){return n},n}function x(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: center;\n  word-break: break-word;\n"]);return x=function(){return n},n}function w(){var n=Object(d.a)(["\n  list-style-type: none;\n  box-shadow: inset 0px 0px 5px #262323;\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0.5em;\n  margin-bottom: 1em;\n  border-radius: 4px;\n  @media (min-width: 576px) {\n    flex-wrap: nowrap;\n    align-items: center;\n  }\n"]);return w=function(){return n},n}var y=s.a.li(w()),E=s.a.div(x()),j=s.a.div(b()),O=s.a.div(v()),k=s.a.a(g());function z(){var n=Object(d.a)(["\n  @media (max-width: 1023px) {\n    margin: 0.3rem 0;\n  }\n"]);return z=function(){return n},n}function S(){var n=Object(d.a)(["\n  flex: 1 0 auto;\n  display: none;\n  @media (min-width: 576px) {\n    display: flex;\n  }\n"]);return S=function(){return n},n}function C(){var n=Object(d.a)(["\n  grid-area: footer;\n  text-transform: uppercase;\n  font-weight: bold;\n  user-select: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.5vmax;\n"]);return C=function(){return n},n}var H=s.a.div(C()),_=s.a.div(S()),q=Object(s.a)(k)(z()),A=function(){return a.a.createElement(H,null,a.a.createElement(_,null,"https://github.com/lu4ezar/github-search-graphql"),a.a.createElement(q,{href:"https://github.com/lu4ezar/github-search-graphql",title:"view src on Github"},a.a.createElement(f.h,{icon:f.f,verticalAlign:"middle",size:"medium"})))};function N(){var n=Object(d.a)(["\n  width: 0;\n  position: relative;\n  right: 1em;\n  cursor: pointer;\n  color: #262323;\n  visibility: hidden;\n  font-weight: bold;\n  &.show {\n    visibility: visible;\n  }\n"]);return N=function(){return n},n}function I(){var n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  grid-area: aside_input;\n  & label {\n    max-width: 90%;\n    padding: 0.5rem 0;\n  }\n  & input {\n    background: transparent;\n    border: 0;\n    outline: 0;\n    border-bottom: 2px solid black;\n    margin-bottom: 0.1rem;\n    text-align: center;\n    font-weight: bold;\n    font-size: 1rem;\n    width: 100%;\n    @media (min-width: 1024px) {\n      font-size: 1.5rem;\n    }\n    &::placeholder {\n      font-weight: normal;\n      font-style: italic;\n    }\n  }\n"]);return I=function(){return n},n}var R=s.a.div(I()),T=s.a.span(N()),F=function(n){var e=n.value,t=n.onChange,r=n.clearInput;return a.a.createElement(R,null,a.a.createElement("label",{htmlFor:"search"},a.a.createElement("input",{id:"search",type:"search",onChange:t,placeholder:"github-search-graphql",value:e})),a.a.createElement(T,{className:e?"show":"",onClick:r,title:"clear input"},"\xd7"))};function G(){var n=Object(d.a)(["\n  list-style-type: none;\n  text-transform: lowercase;\n  font-style: italic;\n  cursor: pointer;\n  margin: 0.5rem;\n  font-weight: normal;\n  transition: background 0.4s;\n  border-radius: 2px;\n  padding: 0.2rem;\n  text-align: center;\n  outline: none;\n  &:hover {\n    background: #e6e6e6;\n  }\n"]);return G=function(){return n},n}function M(){var n=Object(d.a)(["\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  max-height: 100%;\n  transition: max-height 0.2s;\n  &.collapsed {\n    max-height: 0px;\n    transition: max-height 0.2s;\n    @media (min-width: 1024px) {\n      max-height: 100%;\n    }\n  }\n"]);return M=function(){return n},n}function $(){var n=Object(d.a)(["\n  position: relative;\n  right: -2rem;\n  @media (min-width: 1024px) {\n    display: none;\n  }\n"]);return $=function(){return n},n}function U(){var n=Object(d.a)(["\n  background-color: transparent;\n  color: #262323;\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 1rem;\n  cursor: pointer;\n  border: none;\n  outline: none;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  @media (min-width: 1024px) {\n    cursor: auto;\n  }\n"]);return U=function(){return n},n}function B(){var n=Object(d.a)(["\n  display: flex;\n  height: 2rem;\n"]);return B=function(){return n},n}function J(){var n=Object(d.a)(["\n  grid-area: aside_recent;\n  display: flex;\n  flex-direction: column;\n"]);return J=function(){return n},n}var D=s.a.div(J()),K=s.a.div(B()),L=s.a.button(U()),P=s.a.span($()),Q=s.a.ul(M()),Y=s.a.li(G()),V=function(n){var e=n.searchHistory,t=n.getSearchStringFromHistory,i=Object(r.useState)(!0),o=Object(u.a)(i,2),l=o[0],c=o[1],d=function(n){c(!0),t(n)},s=e.length?e.map((function(n,e){return a.a.createElement(Y,{title:'search for "'.concat(n,'" again'),key:n,onClick:function(){return d(n)},onKeyDown:function(){return d(n)},role:"button",tabIndex:e},n)})):null,m=l?f.b:f.a;return a.a.createElement(D,null,a.a.createElement(K,null,a.a.createElement(L,{type:"button",onClick:function(){return c(!l)}},"Search History",!!e.length&&a.a.createElement(P,{title:"expand/collapse"},a.a.createElement(f.h,{icon:m,size:"medium"})))),a.a.createElement(Q,{className:l?"collapsed":"","data-testid":"history"},s))},W=t(25),X=t(22),Z=t(24);function nn(){var n=Object(d.a)(["\n  query GetRepos($searchString: String!, $after: String) {\n    search(type: REPOSITORY, after: $after, first: 30, query: $searchString) {\n      edges {\n        node {\n          ... on Repository {\n            homepageUrl\n            name\n            description\n            url\n            stargazers {\n              totalCount\n            }\n            watchers {\n              totalCount\n            }\n          }\n        }\n        cursor\n      }\n    }\n  }\n"]);return nn=function(){return n},n}var en=Object(Z.b)(nn()),tn=new Z.a({uri:"https://github-search-graphql.herokuapp.com/"}),rn=function(n){var e,t=n.searchString,r=n.updateHistory,a=Object(X.a)(en,{variables:{searchString:t},notifyOnNetworkStatusChange:!0,skip:!t||t.length<4,onCompleted:function(){r(t)}}),i=a.data,o=a.loading,l=a.error,u=a.fetchMore,d=function(n,e){var t=e.fetchMoreResult;return t?Object(W.a)({},t,{search:Object(W.a)({},t.search,{edges:[].concat(Object(c.a)(null===n||void 0===n?void 0:n.search.edges),Object(c.a)(null===t||void 0===t?void 0:t.search.edges))})}):n};return{loading:o,repos:null===i||void 0===i||null===(e=i.search)||void 0===e?void 0:e.edges,error:null===l||void 0===l?void 0:l.message,fetchMore:function(){var n=i.search.edges,e=n[n.length-1].cursor;try{return u({variables:{after:e},updateQuery:d})}catch(t){return}}}},an=function(n){var e=n.homepageUrl,t=n.name,r=n.description,i=n.url,o=n.stargazers,l=n.watchers;return a.a.createElement(y,null,a.a.createElement(E,null,a.a.createElement("h3",null,a.a.createElement(k,{href:e||i,title:"open homepage in new tab",target:"_blank",rel:"noopener noreferrer"},t)),a.a.createElement("p",null,r||"No description was provided")),a.a.createElement(j,null,a.a.createElement(O,null,e?a.a.createElement(a.a.Fragment,null,a.a.createElement(k,{title:"homepage",href:e,target:"_blank",rel:"noopener noreferrer"},a.a.createElement(f.h,{icon:f.e,size:"medium",verticalAlign:"middle"})),a.a.createElement("div",null,"Homepage")):a.a.createElement("div",{className:"not-allowed",title:"no homepage"},a.a.createElement(f.h,{icon:f.c,size:"medium",verticalAlign:"middle"}),a.a.createElement("div",null,"No Homepage"))),a.a.createElement(O,null,a.a.createElement(k,{title:"github page",href:i,target:"_blank",rel:"noopener noreferrer"},a.a.createElement(f.h,{icon:f.f,size:"medium",verticalAlign:"middle"})),a.a.createElement("div",null,"Github")),a.a.createElement(O,{title:"stargazers"},a.a.createElement(f.h,{icon:f.g,size:"medium",verticalAlign:"middle"}),a.a.createElement("div",null,o.totalCount)),a.a.createElement(O,{title:"watchers"},a.a.createElement(f.h,{icon:f.d,size:"medium",verticalAlign:"middle"}),a.a.createElement("div",null,l.totalCount))))},on=t(72),ln=t(35),cn=t.n(ln);function un(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  min-height: 100%;\n  position: sticky;\n  bottom: 0;\n  background: grey;\n  z-index: 100;\n  opacity: 0.7;\n  border-radius: 12px;\n  &.enter {\n    opacity: 0;\n    transition: opacity 300ms linear;\n  }\n  &.enter-active {\n    opacity: 0.8;\n    transition: opacity 300ms linear;\n  }\n  &.exit {\n    opacity: 0.8;\n    transition: opacity 300ms linear;\n  }\n  &.exit-active {\n    opacity: 0;\n    transition: opacity 300ms linear;\n  }\n"]);return un=function(){return n},n}var dn=s.a.div(un()),sn=function(n){var e=n.loading;return a.a.createElement(on.a,{in:e,timeout:300,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement(dn,{"data-testid":"spinner"},a.a.createElement(cn.a,{type:"Oval",color:"black",height:100,width:100})))};function mn(){var n=Object(d.a)(["\n  padding: 0;\n  margin: 0;\n"]);return mn=function(){return n},n}function pn(){var n=Object(d.a)(["\n  grid-area: list;\n  overflow: auto;\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  padding: 1em;\n  &.filled {\n    box-shadow: inset 0px 0px 31px #262323;\n    border-radius: 12px;\n  }\n"]);return pn=function(){return n},n}var hn=s.a.div(pn()),fn=s.a.ul(mn()),gn=function(n){var e=rn(n),t=e.loading,r=e.repos,i=void 0===r?[]:r,o=e.error,l=e.fetchMore;return a.a.createElement(hn,{className:i.length&&"filled",onScroll:function(n){var e=n.currentTarget;e.scrollHeight-e.scrollTop<=e.clientHeight+100&&i.length&&!t&&l()},"data-testid":"repoList"},o?a.a.createElement("p",null,o):a.a.createElement(fn,null,i.map((function(n){var e=n.cursor,t=n.node;return a.a.createElement(an,Object.assign({key:e},t))}))),a.a.createElement(sn,{loading:t}))};function vn(){var n=Object(d.a)(['\n  height: 100%;\n  box-sizing: border-box;\n  display: grid;\n  background: #b59797;\n  grid-gap: 1rem;\n  padding: 1rem;\n  grid-template-rows: auto auto 1fr auto auto;\n  grid-template-areas:\n    "header"\n    "aside_input"\n    "list"\n    "aside_recent"\n    "footer";\n  @media (min-width: 1024px) {\n    font-size: 1.5rem;\n    grid-template-areas:\n      "header header"\n      "aside_input list"\n      "aside_recent list"\n      "aside_recent footer";\n    padding: 2rem 5rem 2rem 5rem;\n    grid-template-columns: 2fr 4fr;\n    grid-template-rows: auto 1fr 7fr auto;\n  }\n  @media (min-width: 1280px) {\n    padding: 2rem 10rem 2rem 10rem;\n  }\n  & > div {\n    border-radius: 4px;\n    box-shadow: 2px 5px 10px #262323;\n    background: azure;\n    padding: 0 1rem;\n    text-align: center;\n    @media (min-width: 1024px) {\n      padding: 1rem;\n    }\n  }\n']);return vn=function(){return n},n}var bn=s.a.div(vn()),xn=function(n,e){return e.includes(n)||e.unshift(n)>10&&e.pop(),e},wn=function(){var n=Object(r.useState)(""),e=Object(u.a)(n,2),t=e[0],i=e[1],o=Object(r.useState)([]),l=Object(u.a)(o,2),d=l[0],s=l[1];return a.a.createElement(bn,null,a.a.createElement(h,null),a.a.createElement(F,{value:t,onChange:function(n){i(n.currentTarget.value)},clearInput:function(){i("")}}),a.a.createElement(V,{searchHistory:d,getSearchStringFromHistory:function(n){i(n)}}),a.a.createElement(gn,{searchString:t,updateHistory:function(){var n=xn(t,Object(c.a)(d));s(n)}}),a.a.createElement(A,null))};o.a.render(a.a.createElement(l.a,{client:tn},a.a.createElement(wn,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.0f395d7d.chunk.js.map