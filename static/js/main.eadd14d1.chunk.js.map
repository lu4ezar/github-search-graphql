{"version":3,"sources":["components/header/styled.ts","components/header/Header.tsx","components/repo/styled.ts","components/footer/styled.ts","components/footer/Footer.tsx","components/input/styled.ts","components/input/Input.tsx","components/recent/styled.ts","components/recent/Recent.tsx","apollo/client/index.ts","hooks/useLazyQuery.ts","components/repo/Repo.tsx","components/spinner/styled.ts","components/spinner/Spinner.tsx","components/list/styled.ts","components/list/List.tsx","components/app/styled.ts","components/app/utils/updateHistory.tsx","components/app/App.tsx","index.tsx"],"names":["HeaderDiv","styled","div","Header","StyledRepo","Text","IconContainer","Icon","Link","a","FooterDiv","TextLink","SVGLink","Footer","href","title","icon","MarkGithub","verticalAlign","size","InputDiv","Clear","span","Input","value","onChange","clearInput","htmlFor","id","type","placeholder","className","onClick","RecentDiv","Panel","Button","button","Arrow","CollapsableListDiv","ul","HistoryItem","li","Recent","searchHistory","getSearchStringFromHistory","useState","isCollapsed","changeCollapseState","handleClick","searchWord","list","length","map","index","key","onKeyDown","role","tabIndex","currentIcon","ChevronUp","ChevronDown","data-testid","QUERY","gql","client","ApolloClient","uri","useCustomQuery","searchString","updateHistory","hasNextPage","setHasNextPage","useApolloQuery","notifyOnNetworkStatusChange","onCompleted","getQuery","data","loading","error","fetchMore","useEffect","getQueryDebounce","debounce","variables","cancel","updateQuery","prev","fetchMoreResult","search","edges","repos","message","lastItemCursor","cursor","after","err","Repo","style","homepageUrl","name","description","url","stargazers","watchers","target","rel","Globe","CircleSlash","Star","totalCount","Eye","Wrapper","Spinner","CSSTransition","in","timeout","mountOnEnter","unmountOnExit","color","height","width","ListDiv","List","props","itemCount","loadMoreItems","isItemLoaded","innerElementType","forwardRef","ref","rest","parseFloat","paddingTop","Row","itemStyle","top","Number","node","onItemsRendered","initialScrollOffset","itemSize","ROW_HEIGHT","Container","includes","unshift","pop","App","setSearchString","setHistory","event","currentTarget","updatedHistory","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eadd14d1.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nconst HeaderDiv = styled.div`\n  grid-area: header;\n  text-transform: uppercase;\n  display: flex;\n  justify-content: center;\n  font-size: 2rem;\n  @media (min-width: 1024px) {\n    justify-content: flex-end;\n  }\n`;\n\nexport default HeaderDiv;\n","import React from \"react\";\nimport HeaderDiv from \"./styled\";\n\nconst Header = () => <HeaderDiv>GITHUB SEARCH</HeaderDiv>;\n\nexport default Header;\n","import styled from \"styled-components\";\n\nexport const StyledRepo = styled.div`\n  box-sizing: border-box;\n  box-shadow: inset 0px 0px 5px #262323;\n  display: flex;\n  flex-flow: column wrap;\n  padding: 0.5em;\n  border-radius: 4px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  @media (min-width: 576px) {\n    flex-flow: row nowrap;\n    align-items: center;\n  }\n`;\nexport const Text = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: center;\n  word-break: break-word;\n  justify-content: space-around;\n  @media (min-width: 576px) {\n    height: 100%;\n  }\n  & p,\n  & h3 {\n    margin: 0;\n  }\n  .description {\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 4;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n`;\nexport const IconContainer = styled.div`\n  display: flex;\n  font-size: 0.5rem;\n  width: 100%;\n  box-sizing: border-box;\n  border: 4px double #262323;\n  box-shadow: inset -1px 0px 5px #262323;\n  @media (min-width: 576px) {\n    justify-content: center;\n    box-sizing: border-box;\n    flex-flow: row wrap;\n    font-size: 1vmax;\n    width: 14vmax;\n    min-width: 14vmax;\n    height: 14vmax;\n    min-height: 14vmax;\n  }\n  @media (min-width: 1024px) {\n    font-size: 0.9vmin;\n    width: 14vmin;\n    min-width: 14vmin;\n    height: 14vmin;\n    min-height: 14vmin;\n  }\n`;\nexport const Icon = styled.div`\n  flex-basis: 50%;\n  display: flex;\n  flex-flow: column wrap;\n  justify-content: center;\n  align-items: center;\n  padding: 0.5em;\n  box-sizing: border-box;\n  overflow: hidden;\n  & .not-allowed {\n    white-space: nowrap;\n    cursor: not-allowed;\n    font-size: 0.95em;\n    display: contents;\n    @media (min-width: 576px) and (max-width: 1024px) {\n      letter-spacing: -0.05em;\n    }\n  }\n`;\nexport const Link = styled.a`\n  text-decoration: none;\n  color: black;\n  &:visited,\n  :hover,\n  :active {\n    color: black;\n  }\n`;\n","import styled from \"styled-components\";\nimport { Link } from \"../repo/styled\";\n\nexport const FooterDiv = styled.div`\n  grid-area: footer;\n  text-transform: uppercase;\n  font-weight: bold;\n  user-select: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.5vmax;\n`;\nexport const TextLink = styled.div`\n  flex: 1 0 auto;\n  display: none;\n  @media (min-width: 576px) {\n    display: flex;\n  }\n`;\nexport const SVGLink = styled(Link)`\n  @media (max-width: 1023px) {\n    margin: 0.3rem 0;\n  }\n`;\n","import React from \"react\";\nimport Octicon, { MarkGithub } from \"@primer/octicons-react\";\nimport { FooterDiv, TextLink, SVGLink } from \"./styled\";\n\nconst Footer = () => (\n  <FooterDiv>\n    <TextLink>https://github.com/lu4ezar/github-search-graphql</TextLink>\n    <SVGLink\n      href=\"https://github.com/lu4ezar/github-search-graphql\"\n      title=\"view src on Github\"\n    >\n      <Octicon icon={MarkGithub} verticalAlign=\"middle\" size=\"medium\" />\n    </SVGLink>\n  </FooterDiv>\n);\n\nexport default Footer;\n","import styled from \"styled-components\";\n\nexport const InputDiv = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  grid-area: aside_input;\n  & label {\n    max-width: 90%;\n    padding: 0.5rem 0;\n  }\n  & input {\n    background: transparent;\n    border: 0;\n    outline: 0;\n    border-bottom: 2px solid black;\n    margin-bottom: 0.1rem;\n    text-align: center;\n    font-weight: bold;\n    font-size: 1rem;\n    width: 100%;\n    @media (min-width: 1024px) {\n      font-size: 1.5rem;\n    }\n    &::placeholder {\n      font-weight: normal;\n      font-style: italic;\n    }\n  }\n`;\nexport const Clear = styled.span`\n  width: 0;\n  position: relative;\n  right: 1em;\n  cursor: pointer;\n  color: #262323;\n  visibility: hidden;\n  font-weight: bold;\n  &.show {\n    visibility: visible;\n  }\n`;\n","import React from \"react\";\nimport { InputDiv, Clear } from \"./styled\";\nimport { InputProps } from \"../../interfaces\";\n\nconst Input = ({ value, onChange, clearInput }: InputProps) => (\n  <InputDiv>\n    <label htmlFor=\"search\">\n      <input\n        id=\"search\"\n        type=\"search\"\n        onChange={onChange}\n        placeholder=\"github-search-graphql\"\n        value={value}\n      />\n    </label>\n    <Clear\n      className={value ? \"show\" : \"\"}\n      onClick={clearInput}\n      title=\"clear input\"\n    >\n      &times;\n    </Clear>\n  </InputDiv>\n);\n\nexport default Input;\n","import styled from \"styled-components\";\n\nexport const RecentDiv = styled.div`\n  grid-area: aside_recent;\n  display: flex;\n  flex-direction: column;\n`;\nexport const Panel = styled.div`\n  display: flex;\n  height: 2rem;\n`;\nexport const Button = styled.button`\n  background-color: transparent;\n  color: #262323;\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 1rem;\n  cursor: pointer;\n  border: none;\n  outline: none;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  @media (min-width: 1024px) {\n    cursor: auto;\n  }\n`;\nexport const Arrow = styled.span`\n  position: relative;\n  right: -2rem;\n  @media (min-width: 1024px) {\n    display: none;\n  }\n`;\nexport const CollapsableListDiv = styled.ul`\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  max-height: 100%;\n  transition: max-height 0.2s;\n  &.collapsed {\n    max-height: 0px;\n    transition: max-height 0.2s;\n    @media (min-width: 1024px) {\n      max-height: 100%;\n    }\n  }\n`;\nexport const HistoryItem = styled.li`\n  list-style-type: none;\n  text-transform: lowercase;\n  font-style: italic;\n  cursor: pointer;\n  margin: 0.5rem;\n  font-weight: normal;\n  transition: background 0.4s;\n  border-radius: 2px;\n  padding: 0.2rem;\n  text-align: center;\n  outline: none;\n  &:hover {\n    background: #e6e6e6;\n  }\n`;\n","import React, { useState } from \"react\";\nimport Octicon, { ChevronUp, ChevronDown } from \"@primer/octicons-react\";\nimport {\n  HistoryItem,\n  RecentDiv,\n  Panel,\n  Arrow,\n  Button,\n  CollapsableListDiv\n} from \"./styled\";\nimport { SearchString, RecentProps } from \"../../interfaces\";\n\nconst Recent = ({ searchHistory, getSearchStringFromHistory }: RecentProps) => {\n  const [isCollapsed, changeCollapseState] = useState(true);\n  const handleClick = (searchWord: SearchString) => {\n    changeCollapseState(true);\n    getSearchStringFromHistory(searchWord);\n  };\n  const list = searchHistory.length\n    ? searchHistory.map((searchWord, index: number) => (\n        <HistoryItem\n          title={`search for \"${searchWord}\" again`}\n          key={searchWord}\n          onClick={() => handleClick(searchWord)}\n          onKeyDown={() => handleClick(searchWord)}\n          role=\"button\"\n          tabIndex={index}\n        >\n          {searchWord}\n        </HistoryItem>\n      ))\n    : null;\n  const onClick = () =>\n    isCollapsed ? changeCollapseState(false) : changeCollapseState(true);\n  const currentIcon = isCollapsed ? ChevronUp : ChevronDown;\n  return (\n    <RecentDiv>\n      <Panel>\n        <Button type=\"button\" onClick={onClick}>\n          Search History\n          {!!searchHistory.length && (\n            <Arrow title=\"expand/collapse\">\n              <Octicon icon={currentIcon} size=\"medium\" />\n            </Arrow>\n          )}\n        </Button>\n      </Panel>\n      <CollapsableListDiv\n        className={isCollapsed ? \"collapsed\" : \"\"}\n        data-testid=\"history\"\n      >\n        {list}\n      </CollapsableListDiv>\n    </RecentDiv>\n  );\n};\n\nexport default Recent;\n","import ApolloClient, { gql } from \"apollo-boost\";\n\nexport const QUERY = gql`\n  query GetRepos($searchString: String!, $after: String) {\n    search(type: REPOSITORY, after: $after, first: 30, query: $searchString) {\n      edges {\n        node {\n          ... on Repository {\n            homepageUrl\n            name\n            description\n            url\n            stargazers {\n              totalCount\n            }\n            watchers {\n              totalCount\n            }\n          }\n        }\n        cursor\n      }\n    }\n  }\n`;\n\nexport const ENDPOINT =\n  process.env.NODE_ENV === \"production\"\n    ? \"https://github-search-graphql.herokuapp.com/\"\n    : \"http://192.168.0.125:4000\";\n\nconst client = new ApolloClient({\n  uri: ENDPOINT\n});\n\nexport default client;\n","import { useEffect, useState } from \"react\";\nimport debounce from \"lodash.debounce\";\nimport { useLazyQuery as useApolloQuery } from \"@apollo/react-hooks\";\nimport { QUERY } from \"../apollo/client\";\nimport { GetRepos } from \"../apollo/client/__generated__/GetRepos\";\nimport { ListProps } from \"../interfaces\";\n\nconst useCustomQuery = ({ searchString, updateHistory }: ListProps) => {\n  const [hasNextPage, setHasNextPage] = useState(true);\n  const [getQuery, { data, loading, error, fetchMore }] = useApolloQuery(\n    QUERY,\n    {\n      notifyOnNetworkStatusChange: true,\n      onCompleted: () => {\n        setHasNextPage(true);\n        updateHistory(searchString);\n      }\n    }\n  );\n\n  useEffect(() => {\n    const getQueryDebounce = debounce(getQuery, 500);\n    if (searchString.length > 3) {\n      getQueryDebounce({ variables: { searchString } });\n    }\n    return () => getQueryDebounce.cancel();\n  }, [getQuery, searchString]);\n\n  const updateQuery = (\n    prev: GetRepos,\n    { fetchMoreResult }: { fetchMoreResult?: GetRepos }\n  ) => {\n    if (!fetchMoreResult?.search?.edges?.length) {\n      setHasNextPage(false);\n      return prev;\n    }\n    setHasNextPage(true);\n    return {\n      ...fetchMoreResult,\n      search: {\n        ...fetchMoreResult.search,\n        edges: [...prev?.search.edges, ...fetchMoreResult?.search.edges]\n      }\n    };\n  };\n\n  const fetchMoreRepos = () => {\n    const { edges } = data.search;\n    const lastItemCursor = edges[edges.length - 1].cursor;\n    // https://github.com/apollographql/apollo-client/issues/4114#issuecomment-502111099\n    try {\n      return fetchMore({\n        variables: {\n          after: lastItemCursor\n        },\n        updateQuery\n      });\n    } catch (err) {\n      return undefined;\n    }\n  };\n\n  return {\n    loading,\n    repos: data?.search?.edges,\n    error: error?.message,\n    hasNextPage,\n    fetchMore: fetchMoreRepos\n  };\n};\n\nexport default useCustomQuery;\n","import React from \"react\";\nimport Octicon, {\n  Globe,\n  Eye,\n  MarkGithub,\n  Star,\n  CircleSlash\n} from \"@primer/octicons-react\";\nimport { StyledRepo, Text, Link, IconContainer, Icon } from \"./styled\";\nimport { RepoProps } from \"../../interfaces\";\n\nconst Repo = ({\n  style,\n  homepageUrl,\n  name,\n  description,\n  url,\n  stargazers,\n  watchers\n}: RepoProps) => (\n  <StyledRepo style={style}>\n    <Text>\n      <h3>\n        <Link\n          href={homepageUrl || url}\n          title=\"open homepage in new tab\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {name}\n        </Link>\n      </h3>\n      <p className=\"description\">\n        {description || \"No description was provided\"}\n      </p>\n    </Text>\n    <IconContainer>\n      <Icon>\n        {homepageUrl ? (\n          <>\n            <Link\n              title=\"homepage\"\n              href={homepageUrl}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <Octicon icon={Globe} size=\"medium\" verticalAlign=\"middle\" />\n            </Link>\n            <div>Homepage</div>\n          </>\n        ) : (\n          <div className=\"not-allowed\" title=\"no homepage\">\n            <Octicon icon={CircleSlash} size=\"medium\" verticalAlign=\"middle\" />\n            <div>No Homepage</div>\n          </div>\n        )}\n      </Icon>\n      <Icon>\n        <Link\n          title=\"github page\"\n          href={url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Octicon icon={MarkGithub} size=\"medium\" verticalAlign=\"middle\" />\n        </Link>\n        <div>Github</div>\n      </Icon>\n      <Icon title=\"stargazers\">\n        <Octicon icon={Star} size=\"medium\" verticalAlign=\"middle\" />\n        <div>{stargazers.totalCount}</div>\n      </Icon>\n      <Icon title=\"watchers\">\n        <Octicon icon={Eye} size=\"medium\" verticalAlign=\"middle\" />\n        <div>{watchers.totalCount}</div>\n      </Icon>\n    </IconContainer>\n  </StyledRepo>\n);\n\nexport default Repo;\n","import styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  grid-area: list;\n  box-sizing: border-box;\n  justify-content: center;\n  align-items: center;\n  background: grey !important;\n  z-index: 100;\n  opacity: 0.7;\n  pointer-events: none;\n  &.enter {\n    opacity: 0;\n    transition: opacity 300ms linear;\n  }\n  &.enter-active {\n    opacity: 0.8;\n    transition: opacity 300ms linear;\n  }\n  &.exit {\n    opacity: 0.8;\n    transition: opacity 300ms linear;\n  }\n  &.exit-active {\n    opacity: 0;\n    transition: opacity 300ms linear;\n  }\n`;\n\nexport default Wrapper;\n","import React from \"react\";\nimport { CSSTransition } from \"react-transition-group\";\nimport Loader from \"react-loader-spinner\";\nimport Wrapper from \"./styled\";\n\nconst Spinner = ({ loading }: { loading: boolean }) => (\n  <CSSTransition in={loading} timeout={300} mountOnEnter unmountOnExit>\n    <Wrapper data-testid=\"spinner\">\n      <Loader type=\"Oval\" color=\"black\" height={100} width={100} />\n    </Wrapper>\n  </CSSTransition>\n);\n\nexport default Spinner;\n","import styled from \"styled-components\";\n\nconst ListDiv = styled.div`\n  grid-area: list;\n  padding: 0 1rem !important;\n  @media (min-width: 1024px) {\n    padding: 0 0 0 1rem !important;\n  }\n`;\n\nexport default ListDiv;\n","/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable camelcase */\nimport React, { CSSProperties, forwardRef } from \"react\";\nimport { FixedSizeList as ReactWindowList } from \"react-window\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport InfiniteLoader from \"react-window-infinite-loader\";\nimport { GetRepos_search_edges_node_Repository } from \"../../apollo/client/__generated__/GetRepos\";\nimport { ListProps } from \"../../interfaces\";\nimport useCustomQuery from \"../../hooks/useLazyQuery\";\nimport Repo from \"../repo\";\nimport Spinner from \"../spinner\";\nimport ListDiv from \"./styled\";\n\nconst PADDING_SIZE = 15; // for top and bottom of the list\nconst GUTTER_SIZE = 25; // between items\nconst ROW_HEIGHT = 250; // item height\n\nconst List = (props: ListProps) => {\n  const { loading, repos = [], error, fetchMore, hasNextPage } = useCustomQuery(\n    props\n  );\n\n  const itemCount = hasNextPage ? repos.length + 1 : repos.length;\n  const loadMoreItems = loading ? (): any => {} : fetchMore;\n  const isItemLoaded = (index: number) => !hasNextPage || index < repos.length;\n\n  const innerElementType = forwardRef(\n    (\n      { style, ...rest }: { style: CSSProperties },\n      ref: React.Ref<HTMLDivElement>\n    ) => (\n      <div\n        ref={ref}\n        style={{\n          ...style,\n          height: `${parseFloat(style.height as string) + PADDING_SIZE}px`,\n          paddingTop: PADDING_SIZE\n        }}\n        {...rest}\n      />\n    )\n  );\n\n  const Row = ({ index, style }: { index: number; style: CSSProperties }) => {\n    const itemStyle = {\n      ...style,\n      top: Number(style.top) + PADDING_SIZE,\n      height: Number(style.height) - GUTTER_SIZE\n    };\n    return isItemLoaded(index) ? (\n      <Repo\n        style={itemStyle}\n        {...(repos[index].node as GetRepos_search_edges_node_Repository)}\n      />\n    ) : (\n      <div style={itemStyle}>\n        <Spinner loading />\n      </div>\n    );\n  };\n\n  const getRepoList = () =>\n    repos.length && (\n      <InfiniteLoader\n        isItemLoaded={isItemLoaded}\n        itemCount={itemCount}\n        loadMoreItems={loadMoreItems}\n      >\n        {({ onItemsRendered, ref }) => (\n          <AutoSizer>\n            {({ height, width }) => (\n              <ReactWindowList\n                innerElementType={innerElementType}\n                initialScrollOffset={0}\n                height={height}\n                width={width}\n                itemCount={itemCount}\n                itemSize={ROW_HEIGHT - GUTTER_SIZE}\n                ref={ref}\n                onItemsRendered={onItemsRendered}\n              >\n                {Row}\n              </ReactWindowList>\n            )}\n          </AutoSizer>\n        )}\n      </InfiniteLoader>\n    );\n\n  return (\n    <>\n      <ListDiv data-testid=\"repoList\">\n        {!!repos.length && getRepoList()}\n        {error && <p>{error}</p>}\n      </ListDiv>\n      <Spinner loading={loading} />\n    </>\n  );\n};\n\nexport default List;\n","import styled from \"styled-components\";\n\nconst Container = styled.div`\n  height: 100%;\n  box-sizing: border-box;\n  display: grid;\n  background: #b59797;\n  grid-gap: 1rem;\n  padding: 1rem;\n  grid-template-rows: auto auto 1fr auto auto;\n  grid-template-areas:\n    \"header\"\n    \"aside_input\"\n    \"list\"\n    \"aside_recent\"\n    \"footer\";\n  @media (min-width: 1024px) {\n    font-size: 1.5rem;\n    grid-template-areas:\n      \"header header\"\n      \"aside_input list\"\n      \"aside_recent list\"\n      \"aside_recent footer\";\n    padding: 2rem 5rem 2rem 5rem;\n    grid-template-columns: 2fr 4fr;\n    grid-template-rows: auto 1fr 7fr auto;\n  }\n  @media (min-width: 1280px) {\n    padding: 2rem 10rem 2rem 10rem;\n  }\n  & > div {\n    border-radius: 4px;\n    box-shadow: 2px 5px 10px #262323;\n    background: azure;\n    padding: 0 1rem;\n    text-align: center;\n    @media (min-width: 1024px) {\n      padding: 1rem;\n    }\n  }\n`;\n\nexport default Container;\n","import { SearchString, SearchHistory } from \"../../../interfaces\";\n\nexport const HISTORY_MAX_SIZE = 10;\n\nconst updateHistory = (\n  searchString: SearchString,\n  searchHistory: SearchHistory\n) => {\n  if (searchHistory.includes(searchString)) {\n    return searchHistory;\n  }\n  const newHistorySize = searchHistory.unshift(searchString);\n  if (newHistorySize > HISTORY_MAX_SIZE) {\n    searchHistory.pop();\n  }\n  return searchHistory;\n};\n\nexport default updateHistory;\n","import React, { useState, ChangeEvent } from \"react\";\n\nimport Header from \"../header\";\nimport Footer from \"../footer\";\nimport Input from \"../input\";\nimport Recent from \"../recent\";\nimport List from \"../list\";\nimport Container from \"./styled\";\nimport { SearchString, SearchHistory } from \"../../interfaces\";\nimport updateHistory from \"./utils/updateHistory\";\n\nconst App = () => {\n  const [searchString, setSearchString] = useState(\"\");\n  const [searchHistory, setHistory] = useState([] as SearchHistory);\n\n  const handleHistory = () => {\n    const updatedHistory = updateHistory(searchString, [...searchHistory]);\n    setHistory(updatedHistory);\n  };\n  const onChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setSearchString(event.currentTarget.value);\n  };\n  const setInputValue = (value: SearchString) => {\n    setSearchString(value);\n  };\n  const clearInput = () => {\n    setSearchString(\"\");\n  };\n  return (\n    <Container>\n      <Header />\n      <Input value={searchString} onChange={onChange} clearInput={clearInput} />\n      <Recent\n        searchHistory={searchHistory}\n        getSearchStringFromHistory={setInputValue}\n      />\n      <List searchString={searchString} updateHistory={handleHistory} />\n      <Footer />\n    </Container>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { ApolloProvider } from \"@apollo/react-hooks\";\nimport App from \"./components/app\";\nimport client from \"./apollo/client\";\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}