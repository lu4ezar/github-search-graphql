{"version":3,"sources":["components/header/styled.ts","components/header/Header.tsx","components/repo/styled.ts","components/footer/styled.ts","components/footer/Footer.tsx","components/input/styled.ts","components/input/Input.tsx","components/recent/styled.ts","components/recent/Recent.tsx","apollo/client/index.ts","components/repo/Repo.tsx","components/list/styled.ts","components/list/List.tsx","components/app/styled.ts","components/app/App.tsx","index.tsx"],"names":["HeaderDiv","styled","div","Header","StyledRepo","li","Text","IconContainer","Icon","Link","a","FooterDiv","TextLink","Footer","href","title","icon","MarkGithub","verticalAlign","size","InputDiv","Clear","span","Input","value","onChange","clearInput","htmlFor","id","type","placeholder","className","onClick","RecentDiv","Panel","Button","button","Arrow","CollapsableListDiv","ul","HistoryItem","Recent","searchHistory","getSearchStringFromHistory","useState","isCollapsed","changeCollapseState","list","length","map","searchWord","index","key","onKeyDown","role","tabIndex","currentIcon","ChevronDown","ChevronUp","QUERY","gql","client","ApolloClient","uri","Repo","homepageUrl","name","description","url","stargazers","watchers","target","rel","Globe","CircleSlash","Star","totalCount","Eye","ListDiv","CenteredLoader","Loader","StyledUl","List","searchString","updateHistory","useLazyQuery","onCompleted","error","data","search","edges","variables","errorPolicy","getRepos","called","loading","fetchMore","useEffect","dataLength","onScroll","e","currentTarget","scrollHeight","scrollTop","clientHeight","lastItemCursor","cursor","after","updateQuery","prev","fetchMoreResult","color","height","width","repos","node","getListContent","Container","App","setSearchString","setHistory","event","newSearch","includes","unshift","pop","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.09e195a6.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nconst HeaderDiv = styled.div`\n  grid-area: header;\n  text-transform: uppercase;\n  display: flex;\n  justify-content: center;\n  font-size: 2rem;\n  @media (min-width: 1024px) {\n    justify-content: flex-end;\n  }\n`;\n\nexport default HeaderDiv;\n","import React from \"react\";\nimport HeaderDiv from \"./styled\";\n\nconst Header = () => <HeaderDiv>GITHUB SEARCH</HeaderDiv>;\n\nexport default Header;\n","import styled from \"styled-components\";\n\nexport const StyledRepo = styled.li`\n  list-style-type: none;\n  box-shadow: inset 0px 0px 5px #262323;\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0.5em;\n  margin-bottom: 1em;\n  border-radius: 4px;\n  @media (min-width: 576px) {\n    flex-wrap: nowrap;\n    align-items: center;\n  }\n`;\nexport const Text = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  align-items: center;\n  word-break: break-word;\n`;\nexport const IconContainer = styled.div`\n  display: flex;\n  font-size: 0.5rem;\n  width: 100%;\n  border: 4px double #262323;\n  box-shadow: inset -1px 0px 5px #262323;\n  @media (min-width: 576px) {\n    justify-content: center;\n    box-sizing: border-box;\n    flex-flow: row wrap;\n    font-size: 1vmax;\n    width: 14vmax;\n    min-width: 14vmax;\n    height: 14vmax;\n    min-height: 14vmax;\n  }\n  @media (min-width: 1024px) {\n    font-size: 0.9vmin;\n    width: 14vmin;\n    min-width: 14vmin;\n    height: 14vmin;\n    min-height: 14vmin;\n  }\n`;\nexport const Icon = styled.div`\n  flex-basis: 50%;\n  display: flex;\n  flex-flow: column wrap;\n  justify-content: center;\n  align-items: center;\n  padding: 0.5em;\n  box-sizing: border-box;\n  overflow: hidden;\n  & .not-allowed {\n    white-space: nowrap;\n    cursor: not-allowed;\n    font-size: 0.95em;\n    display: contents;\n    @media (min-width: 576px) and (max-width: 1024px) {\n      letter-spacing: -0.05em;\n    }\n  }\n`;\nexport const Link = styled.a`\n  text-decoration: none;\n  color: black;\n  &:visited,\n  :hover,\n  :active {\n    color: black;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const FooterDiv = styled.div`\n  grid-area: footer;\n  text-transform: uppercase;\n  font-weight: bold;\n  user-select: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.5vmax;\n`;\nexport const TextLink = styled.div`\n  flex: 1 0 auto;\n  display: none;\n  @media (min-width: 576px) {\n    display: flex;\n  }\n`;\n","import React from \"react\";\nimport Octicon, { MarkGithub } from \"@primer/octicons-react\";\nimport { Link } from \"../repo/styled\";\nimport { FooterDiv, TextLink } from \"./styled\";\n\nconst Footer = () => (\n  <FooterDiv>\n    <TextLink>https://github.com/lu4ezar/github-search-graphql</TextLink>\n    <Link\n      href=\"https://github.com/lu4ezar/github-search-graphql\"\n      title=\"view src on Github\"\n    >\n      <Octicon icon={MarkGithub} verticalAlign=\"middle\" size=\"medium\" />\n    </Link>\n  </FooterDiv>\n);\n\nexport default Footer;\n","import styled from \"styled-components\";\n\nexport const InputDiv = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  grid-area: aside_input;\n  & label {\n    max-width: 90%;\n    padding: 0.5rem 0;\n  }\n  & input {\n    background: transparent;\n    border: 0;\n    outline: 0;\n    border-bottom: 2px solid black;\n    margin-bottom: 0.1rem;\n    text-align: center;\n    font-weight: bold;\n    font-size: 1rem;\n    width: 100%;\n    @media (min-width: 1024px) {\n      font-size: 1.5rem;\n    }\n    &::placeholder {\n      font-weight: normal;\n      font-style: italic;\n    }\n  }\n`;\nexport const Clear = styled.span`\n  width: 0;\n  position: relative;\n  right: 1em;\n  cursor: pointer;\n  color: #262323;\n  visibility: hidden;\n  font-weight: bold;\n  &.show {\n    visibility: visible;\n  }\n`;\n","import React, { ChangeEvent } from \"react\";\nimport { InputDiv, Clear } from \"./styled\";\n\ninterface InputProps {\n  value: string | number | string[] | undefined;\n  onChange: (event: ChangeEvent<HTMLInputElement>) => void;\n  clearInput: () => void;\n}\n\nconst Input = ({ value, onChange, clearInput }: InputProps) => (\n  <InputDiv>\n    <label htmlFor=\"search\">\n      <input\n        id=\"search\"\n        type=\"search\"\n        onChange={onChange}\n        placeholder=\"github-search-graphql\"\n        value={value}\n      />\n    </label>\n    <Clear\n      className={value ? \"show\" : \"\"}\n      onClick={clearInput}\n      title=\"clear input\"\n    >\n      &times;\n    </Clear>\n  </InputDiv>\n);\n\nexport default Input;\n","import styled from \"styled-components\";\n\nexport const RecentDiv = styled.div`\n  grid-area: aside_recent;\n  display: flex;\n  flex-direction: column;\n`;\nexport const Panel = styled.div`\n  display: flex;\n`;\nexport const Button = styled.button`\n  background-color: transparent;\n  color: #262323;\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 1rem;\n  cursor: pointer;\n  border: none;\n  outline: none;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  @media (min-width: 1024px) {\n    cursor: auto;\n  }\n`;\nexport const Arrow = styled.span`\n  position: relative;\n  right: -2rem;\n  &.invisible {\n    visibility: collapse;\n  }\n  @media (min-width: 1024px) {\n    display: none;\n  }\n`;\nexport const CollapsableListDiv = styled.ul`\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  max-height: 100%;\n  transition: max-height 0.2s;\n  &.collapsed {\n    max-height: 0px;\n    transition: max-height 0.2s;\n    @media (min-width: 1024px) {\n      max-height: 100%;\n    }\n  }\n`;\nexport const HistoryItem = styled.li`\n  list-style-type: none;\n  text-transform: lowercase;\n  font-style: italic;\n  cursor: pointer;\n  margin: 1rem;\n  font-weight: normal;\n  transition: background 0.4s;\n  border-radius: 2px;\n  padding: 0.2rem;\n  text-align: center;\n  &:hover {\n    background: #e6e6e6;\n  }\n`;\n","import React, { useState } from \"react\";\nimport Octicon, { ChevronUp, ChevronDown } from \"@primer/octicons-react\";\nimport {\n  HistoryItem,\n  RecentDiv,\n  Panel,\n  Arrow,\n  Button,\n  CollapsableListDiv\n} from \"./styled\";\n\ninterface RecentProps {\n  searchHistory: string[];\n  getSearchStringFromHistory: (str: string) => void;\n}\n\nconst Recent = ({ searchHistory, getSearchStringFromHistory }: RecentProps) => {\n  const [isCollapsed, changeCollapseState] = useState(true);\n  const list = searchHistory.length\n    ? searchHistory.map((searchWord, index: number) => (\n        <HistoryItem\n          title={`search for \"${searchWord}\" again`}\n          key={searchWord}\n          onClick={() => getSearchStringFromHistory(searchWord)}\n          onKeyDown={() => getSearchStringFromHistory(searchWord)}\n          role=\"button\"\n          tabIndex={index}\n        >\n          {searchWord}\n        </HistoryItem>\n      ))\n    : null;\n  const onClick = () =>\n    isCollapsed ? changeCollapseState(false) : changeCollapseState(true);\n  const currentIcon = isCollapsed ? ChevronDown : ChevronUp;\n  return (\n    <RecentDiv>\n      <Panel>\n        <Button type=\"button\" onClick={onClick}>\n          Search History\n          <Arrow className={!searchHistory.length ? \"invisible\" : \"\"}>\n            <Octicon icon={currentIcon} size=\"medium\" />\n          </Arrow>\n        </Button>\n      </Panel>\n      <CollapsableListDiv className={isCollapsed ? \"collapsed\" : \"\"}>\n        {list}\n      </CollapsableListDiv>\n    </RecentDiv>\n  );\n};\n\nexport default Recent;\n","import ApolloClient, { gql } from \"apollo-boost\";\n\nexport const QUERY = gql`\n  query GetRepos($searchString: String!, $after: String) {\n    search(type: REPOSITORY, after: $after, first: 30, query: $searchString) {\n      edges {\n        node {\n          ... on Repository {\n            homepageUrl\n            name\n            description\n            url\n            stargazers {\n              totalCount\n            }\n            watchers {\n              totalCount\n            }\n          }\n        }\n        cursor\n      }\n    }\n  }\n`;\n\nexport const ENDPOINT =\n  process.env.NODE_ENV === \"production\"\n    ? \"https://github-search-graphql.herokuapp.com/\"\n    : \"http://localhost:4000\";\n\nconst client = new ApolloClient({\n  uri: ENDPOINT\n});\n\nexport default client;\n","/* eslint-disable camelcase */\nimport React from \"react\";\nimport Octicon, {\n  Globe,\n  Eye,\n  MarkGithub,\n  Star,\n  CircleSlash\n} from \"@primer/octicons-react\";\nimport { StyledRepo, Text, Link, IconContainer, Icon } from \"./styled\";\nimport { GetRepos_search_edges_node_Repository } from \"../../apollo/client/__generated__/GetRepos\";\n\nconst Repo = ({\n  homepageUrl,\n  name,\n  description,\n  url,\n  stargazers,\n  watchers\n}: GetRepos_search_edges_node_Repository) => (\n  <StyledRepo>\n    <Text>\n      <h3>\n        <Link\n          href={homepageUrl || url}\n          title=\"open homepage in new tab\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {name}\n        </Link>\n      </h3>\n      <p>{description || \"No description was provided\"}</p>\n    </Text>\n    <IconContainer>\n      <Icon>\n        {homepageUrl ? (\n          <>\n            <Link\n              title=\"homepage\"\n              href={homepageUrl}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <Octicon icon={Globe} size=\"medium\" verticalAlign=\"middle\" />\n            </Link>\n            <div>Homepage</div>\n          </>\n        ) : (\n          <div className=\"not-allowed\" title=\"no homepage\">\n            <Octicon icon={CircleSlash} size=\"medium\" verticalAlign=\"middle\" />\n            <div>No Homepage</div>\n          </div>\n        )}\n      </Icon>\n      <Icon>\n        <Link\n          title=\"github page\"\n          href={url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Octicon icon={MarkGithub} size=\"medium\" verticalAlign=\"middle\" />\n        </Link>\n        <div>Github</div>\n      </Icon>\n      <Icon title=\"stargazers\">\n        <Octicon icon={Star} size=\"medium\" verticalAlign=\"middle\" />\n        <div>{stargazers.totalCount}</div>\n      </Icon>\n      <Icon title=\"watchers\">\n        <Octicon icon={Eye} size=\"medium\" verticalAlign=\"middle\" />\n        <div>{watchers.totalCount}</div>\n      </Icon>\n    </IconContainer>\n  </StyledRepo>\n);\n\nexport default Repo;\n","import styled from \"styled-components\";\nimport Loader from \"react-loader-spinner\";\n\nexport const ListDiv = styled.div`\n  grid-area: list;\n  overflow: auto;\n  display: flex;\n  flex-direction: column;\n  padding: 1em;\n  &.filled {\n    box-shadow: inset 0px 0px 31px #262323;\n    border-radius: 12px;\n  }\n`;\nexport const CenteredLoader = styled(Loader)`\n  margin: auto;\n`;\nexport const StyledUl = styled.ul`\n  padding: 0;\n  margin: 0;\n`;\n","/* eslint-disable camelcase */\nimport React, { useEffect, SyntheticEvent } from \"react\";\nimport { useLazyQuery } from \"@apollo/react-hooks\";\nimport {\n  GetRepos_search,\n  GetRepos_search_edges,\n  GetRepos_search_edges_node_Repository,\n  GetRepos\n} from \"../../apollo/client/__generated__/GetRepos\";\nimport { SearchString } from \"../../interfaces\";\nimport { QUERY } from \"../../apollo/client\";\nimport Repo from \"../repo\";\nimport { CenteredLoader, ListDiv, StyledUl } from \"./styled\";\n\ninterface ListProps {\n  searchString: SearchString;\n  updateHistory: (searchString: SearchString) => void;\n}\n\nconst getRepoList = (repos: GetRepos_search[\"edges\"]) => (\n  <StyledUl>\n    {(repos as GetRepos_search_edges[]).map(({ cursor, node }) => (\n      <Repo\n        key={cursor}\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        {...(node as GetRepos_search_edges_node_Repository)}\n      />\n    ))}\n  </StyledUl>\n);\n\nconst List = ({ searchString, updateHistory }: ListProps) => {\n  const [getRepos, { called, loading, data, error, fetchMore }] = useLazyQuery<\n    GetRepos\n  >(QUERY, {\n    onCompleted: () => {\n      if (error) return;\n      if (data?.search?.edges?.length) {\n        updateHistory(searchString);\n      }\n    },\n    variables: {\n      searchString\n    },\n    errorPolicy: \"all\"\n  });\n\n  useEffect(() => {\n    if (!searchString || searchString.length < 4) {\n      return;\n    }\n    getRepos({\n      variables: {\n        searchString\n      }\n    });\n  }, [searchString, getRepos]);\n\n  const onScroll = (e: SyntheticEvent) => {\n    const { scrollHeight, scrollTop, clientHeight } = e.currentTarget;\n    const listBottom = scrollHeight - scrollTop === clientHeight;\n    if (!listBottom || !data) {\n      return undefined;\n    }\n    const { edges } = data.search;\n    const lastItemCursor =\n      edges !== null ? edges[edges.length - 1]!.cursor : \"\";\n    return fetchMore({\n      variables: {\n        after: lastItemCursor\n      },\n      updateQuery: (\n        prev: GetRepos,\n        { fetchMoreResult }: { fetchMoreResult?: GetRepos }\n      ) => {\n        if (!fetchMoreResult) {\n          return prev;\n        }\n        return {\n          ...fetchMoreResult,\n          search: {\n            ...fetchMoreResult.search,\n            edges: [...prev?.search.edges, ...fetchMoreResult?.search.edges]\n          }\n        };\n      }\n    });\n  };\n\n  const dataLength = data?.search?.edges?.length;\n\n  const getListContent = () => {\n    switch (true) {\n      case !!error:\n        return <p>Error! Sorry there was an error!</p>;\n      case called && loading:\n        return (\n          <CenteredLoader type=\"Oval\" color=\"gray\" height={100} width={100} />\n        );\n      case !!dataLength:\n        return data ? getRepoList(data.search.edges) : null;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <ListDiv className={dataLength ? \"filled\" : \"\"} onScroll={onScroll}>\n      {getListContent()}\n    </ListDiv>\n  );\n};\n\nexport default List;\n","import styled from \"styled-components\";\n\nconst Container = styled.div`\n  height: 100%;\n  box-sizing: border-box;\n  display: grid;\n  grid-gap: 1rem;\n  padding: 1rem;\n  grid-template-rows: auto auto 1fr auto auto;\n  grid-template-areas:\n    \"header\"\n    \"aside_input\"\n    \"list\"\n    \"aside_recent\"\n    \"footer\";\n  @media (min-width: 1024px) {\n    font-size: 1.5rem;\n    grid-template-areas:\n      \"header header\"\n      \"aside_input list\"\n      \"aside_recent list\"\n      \"aside_recent footer\";\n    padding: 2rem 5rem 2rem 5rem;\n    grid-template-columns: 2fr 4fr;\n    grid-template-rows: auto 1fr 7fr auto;\n  }\n  @media (min-width: 1280px) {\n    padding: 2rem 10rem 2rem 10rem;\n  }\n  & > div {\n    border-radius: 4px;\n    box-shadow: 2px 5px 10px #262323;\n    background: ghostwhite;\n    padding: 0 1rem;\n    @media (min-width: 1024px) {\n      padding: 1rem;\n    }\n  }\n`;\n\nexport default Container;\n","import React, { useState, ChangeEvent } from \"react\";\n\nimport Header from \"../header\";\nimport Footer from \"../footer\";\nimport Input from \"../input\";\nimport Recent from \"../recent\";\nimport List from \"../list\";\nimport Container from \"./styled\";\nimport { SearchString } from \"../../interfaces\";\n\nconst HISTORY_MAX_SIZE = 10;\n\nconst App = () => {\n  const [searchString, setSearchString] = useState(\"\");\n  const [searchHistory, setHistory] = useState([] as SearchString[]);\n\n  const updateHistory = (newSearch: SearchString) => {\n    if (!searchHistory.includes(newSearch)) {\n      const newLength = searchHistory.unshift(newSearch);\n      if (newLength > HISTORY_MAX_SIZE) {\n        searchHistory.pop();\n      }\n      setHistory([...searchHistory]);\n    }\n  };\n  const onChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setSearchString(event.currentTarget.value);\n  };\n  const setInputValue = (value: SearchString) => {\n    setSearchString(value);\n  };\n  const clearInput = (): void => {\n    setSearchString(\"\");\n  };\n  return (\n    <Container>\n      <Header />\n      <Input value={searchString} onChange={onChange} clearInput={clearInput} />\n      <Recent\n        searchHistory={searchHistory}\n        getSearchStringFromHistory={setInputValue}\n      />\n      <List searchString={searchString} updateHistory={updateHistory} />\n      <Footer />\n    </Container>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { ApolloProvider } from \"@apollo/react-hooks\";\nimport App from \"./components/app\";\nimport client from \"./apollo/client\";\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <App />\n  </ApolloProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}